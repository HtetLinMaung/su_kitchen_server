(this.webpackJsonpsu_kitchen_web=this.webpackJsonpsu_kitchen_web||[]).push([[0],{45:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAABmCAYAAAAXmsXwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAO7SURBVHhe7dvJTxRBGMZh/2DWISEhLB7wROTCQWBgiCAYMBExQsAMglEjEBZBlAiyGxgGBAZmh8Nnf0X01CZE0lNdr+/hCUeq+jdd3dM1fe8ykxdyH0OCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIBgSBEOCYEgQDAmCIUEwJAiGBMGQIEIRMpMvSr54LVnvr225wpUZSzpb8B1rWFkPqQdv4/uhDD37IN2xuHWxnriMjS1I8uRCMjl3YloNmckVZXMrIU33n0p5eVQqKrpCIOqNpVPaO8bl9DzjzJlpNaQuYSMjs+bg1dT0hEYkEjO+rv3wltqi79jDxmrIwtW1DL+YNWej3wG1qbo6Jl/W9s0102/sYWM1pF4fdWltbByQinK/Za70Kj1lZVF51D4uZ1xaby+TL8j6xoEMDr6Tjs4Jq9o7JiQafS2vRuclkUyZa7jfmMPIekilZ2a+eHPbHwY5bywu3bGqUISku2NIEAwJgiFBMCQIhgTBkCBCE1KfoOh3N5fZfAoUipD6PFN3Gg6Pzpz28yxt7dms9ZD6KZ6aXpWHrSPS/GDIaS0twxKPL/vOM2hWQ2YLRVlc2jK7DZWVXWbHwWU3c+iWmbn1kp+ZVkPqNpb+MiCM21j/SvdW+55Mm7n5zTkoVkPmvcmOTyyayfsdFBfpXEZezv1fIfX6eHSckra2UbMkua6qqltavWv9QeKs5Hew1m929Lb95PRS5hc2ZfLNitNm5zbk+OTSzMlvrkGyHlLpp1dvDnQf0GneHGx9lwxFSLo7hgTBkCAYEgRDgmBIEAwJIhQh09mb37aa75IloK/x+Y3DZdZD6hfoi3RONjYPZeXzbqCW9e/qruzun4hLvyK/Dash9Uw8TWWkt3dKamsf/3n/Iki61VRf3y/xyWWomFZD6msCU29XzQHW19j8dhOCoA+36+r6ZGv7yCzpfmNzjdWQutUzOPTeC1n6bSz98Cx92jbXTL+xucZqSD2IH2e+mTNEd9j1AEciwdL/octrU9OA7Om1Mu/Wyzp/Y/kaWZDUZU6eD89IQ0O/uU6WQnPzkPkAoSyrympIpTFVInku2ztJ2QrYzt6x2f9Eiqish/xNY+pdZPDs/v40KKEJSXfDkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJgiFBMCQIhgTBkCAYEgRDgmBIEAwJIS+/AP9y9GEwGwg3AAAAAElFTkSuQmCC"},48:function(e,a,t){e.exports=t.p+"static/media/ma-la-xiang-guo-10.beb1a9f7.jpg"},49:function(e){e.exports=JSON.parse('{"a":"https://su-kitchen.herokuapp.com"}')},57:function(e,a,t){e.exports=t(69)},62:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(18),c=t.n(o),i=(t(62),t(25)),l=t(7),s=t(14),m=t(96),u=t(100),d=t(106),p=t(16),g=t(3),h=t(101),b=t(112),E=t(98),f=t(99),x=t(45),A=t.n(x),j=Object(m.a)((function(){return{root:{left:0,height:"100vh",overflow:"auto",backgroundColor:"#F2F4F7",transition:"all 0.3s",zIndex:9},iconButton:{"&:hover":{backgroundColor:"#F2F4F7"},transition:"all 0.3s"},settingContainer:{transition:"all 0.3s",marginBottom:"2.2rem"},icon:{color:"#70709c",transition:"all 0.3s"},selectedIcon:{transition:"all 0.3s",color:"#fff"},selectedIconButton:{transition:"all 0.3s","&:hover":{backgroundColor:"#3596F8"}},selected:{transition:"all 0.3s",backgroundColor:"#3596F8",borderRadius:15,boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important"},menuContainer:{transition:"all 0.3s",marginBottom:"1rem"}}})),v=[{IconComponent:E.a,pathname:"/admin"},{IconComponent:f.a,pathname:"/admin/categories"}],O=function(e){var a=Object(l.g)(),t=Object(l.f)(),n=j();return a.pathname=function(e){var a=e.pathname.split("/"),t=[];return a.forEach((function(e){e&&t.push(e)})),"/"+t.join("/")}(a),r.a.createElement(u.a,Object.assign({container:!0,item:!0,wrap:"nowrap",direction:"column"},e,{className:n.root}),r.a.createElement(u.a,{item:!0,container:!0,justify:"center",className:n.settingContainer},r.a.createElement(u.a,{item:!0},r.a.createElement(h.a,{className:n.iconButton},r.a.createElement(b.a,{alt:"",src:A.a})))),v.map((function(e){return r.a.createElement(u.a,{item:!0,container:!0,justify:"center",key:e.pathname,className:n.menuContainer},r.a.createElement(u.a,{item:!0,className:Object(g.a)(Object(p.a)({},n.selected,e.pathname===a.pathname))},r.a.createElement(h.a,{onClick:function(){return t.push(e.pathname)},className:Object(g.a)(n.iconButton,Object(p.a)({},n.selectedIconButton,e.pathname===a.pathname))},r.a.createElement(e.IconComponent,{className:Object(g.a)(n.icon,Object(p.a)({},n.selectedIcon,e.pathname===a.pathname))}))))})))},C=t(30),k=t(111),w=t(113),I=t(104),y=t(103),B=t(105),N=t(102),S=Object(m.a)((function(){return{root:{backgroundColor:"transparent",position:"fixed"},headerContainer:{backgroundColor:"#fff",borderRadius:35,margin:"1rem 2rem"},title:{letterSpacing:2},nakedInput:{"& .MuiInputBase-input::placeholder":{fontSize:15,fontFamily:"Poppins",color:"#70709c"}},icon:{color:"#70709c"},divider:{border:".5px solid #E8E8EF",height:38,margin:"1rem"},badge:{backgroundColor:"#F2406D"}}})),D=function(e){var a=Object(N.a)("(max-width:768px)"),t=Object(N.a)("(max-width:473px)"),n=Object(N.a)("(max-width:375px)"),o=Object(N.a)("(max-width:375px)"),c=S();return r.a.createElement(u.a,Object.assign({item:!0},e,{container:!0,className:c.root,style:Object(C.a)(Object(C.a)({},e.style),{},{paddingLeft:t?0:83})}),r.a.createElement(u.a,{container:!0,justify:"space-between",alignItems:"center",item:!0,className:c.headerContainer,style:{padding:o?"0 1rem":"0 3rem"}},r.a.createElement(u.a,{item:!0},r.a.createElement("h2",{className:c.title,style:{display:a?"none":""}},"Su's Kitchen")),r.a.createElement(u.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement(u.a,{item:!0,container:!0,alignItems:"center"},r.a.createElement(u.a,{item:!0,xs:7,sm:3},r.a.createElement(k.a,{startAdornment:r.a.createElement(w.a,{position:"start"},r.a.createElement(y.a,{className:c.icon})),className:c.nakedInput,placeholder:"Search Here",inputProps:{"aria-label":"naked"}})),r.a.createElement("div",{className:c.divider}),r.a.createElement(u.a,{item:!0},r.a.createElement(h.a,null,r.a.createElement(I.a,{classes:{colorPrimary:c.badge},color:"primary",variant:"dot",overlap:"circle"},r.a.createElement(B.a,{className:c.icon})))),r.a.createElement("div",{style:{flex:1,display:n?"none":""}}),r.a.createElement(u.a,{item:!0,style:{display:n?"none":""}},r.a.createElement("div",null,"Su"))))))},F=t(107),Q=Object(m.a)((function(){return{container:{flex:1},fab:{transition:"all 0.3s",position:"absolute",right:20,bottom:20,backgroundColor:"#70709c",color:"#fff","&:hover":{backgroundColor:"#70709c"}},icon:{transition:"all 0.3s"}}})),z=function(e){var a=e.routes,t=Object(N.a)("(max-width:473px)"),o=Object(l.g)(),c=Q(),i=Object(n.useState)(!0),m=Object(s.a)(i,2),p=m[0],g=m[1];Object(n.useEffect)((function(){-1!==o.pathname.indexOf("/admin/login")||t?g(!1):g(!0)}),[o,t]);var h={display:-1!==o.pathname.indexOf("/admin/login")?"none":""};return r.a.createElement(u.a,{container:!0},r.a.createElement(O,{style:{width:p?83:0,position:t?"absolute":"static"}}),r.a.createElement(d.a,{style:{transform:t&&-1===o.pathname.indexOf("/admin/login")?"scale(1)":"scale(0)"},"aria-label":"expand",className:c.fab,onClick:function(){return g((function(e){return!e}))}},r.a.createElement(F.a,{className:c.icon,style:{transform:p?"rotate(0deg)":"rotate(-180deg)"}})),r.a.createElement(D,{style:h}),r.a.createElement(u.a,{item:!0,className:c.container},r.a.createElement(l.c,null,a.map((function(e){return r.a.createElement(l.a,{key:e.path,path:e.path,exact:!0,component:e.component})})))))},M=t(37),W=t.n(M),Z=t(47),P=t(109),U=Object(m.a)((function(){return{input:{borderWidth:0,padding:".6rem .9rem",borderRadius:10,width:"100%",color:"#E9E9E9",boxSizing:"border-box",backgroundColor:"#FEFEFE",transition:"all 0.3s","&:focus":{color:"#545F6D",outline:"none",boxShadow:"0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important","&::placeholder":{color:"#545F6D"}},"&::placeholder":{color:"#E9E9E9"}},errorLabel:{color:"red",fontSize:12}}})),L=function(e){var a=U(),t=Object(C.a)({},e);delete t.errorLabel;var o="";return e.errorLabel&&(o=r.a.createElement("div",{className:a.errorLabel},e.errorLabel)),r.a.createElement(n.Fragment,null,r.a.createElement("input",Object.assign({},t,{className:"".concat(a.input," ").concat(e.className)})),o)};L.defaultProps={className:""};var Y=L,G=t(48),R=t.n(G),J=t(49),T=t(110),q=t(108),K=Object(n.createContext)([]),H=Object(m.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),V=function(e){var a=e.children,t=H(),o=Object(n.useState)(!1);return r.a.createElement(K.Provider,{value:o},a,r.a.createElement(T.a,{className:t.backdrop,open:o[0]},r.a.createElement(q.a,{color:"inherit"})))},X=Object(m.a)((function(){return{root:{height:"100vh"},coverImageContainer:{height:"100vh"},coverImage:{width:"100%",height:"100%"},controls:{backgroundColor:"#F3F5F9"},title:{color:"#41546B"},button:{textTransform:"capitalize",backgroundColor:"#FE9215",color:"#fff",borderRadius:10,paddingLeft:"2rem",paddingRight:"2rem","&:hover, &:active":{backgroundColor:"#FE9215"}}}})),_=[{path:"/admin/login",component:function(){var e=Object(l.f)(),a=Object(n.useContext)(K),t=Object(s.a)(a,2),o=t[0],c=t[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),d=m[0],p=m[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),b=h[0],E=h[1],f=Object(n.useState)(""),x=Object(s.a)(f,2),A=x[0],j=x[1],v=Object(n.useState)(""),O=Object(s.a)(v,2),C=O[0],k=O[1],w=X(),I=Object(N.a)("(max-width:1024px)"),y=function(){return d.length>=9&&d.length<=11&&b.length>0},B=function(){var a=Object(Z.a)(W.a.mark((function a(){var t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!y()){a.next=15;break}return c(!0),a.next=5,fetch("".concat(J.a,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_no:d,password:b})}).then((function(e){return e.json()}));case 5:if(t=a.sent,c(!1),"logged in successful"===t.message){a.next=10;break}throw new Error(t.message);case 10:if("admin"===t.data.role){a.next=13;break}throw new Error("Unauthorized!");case 13:localStorage.setItem("su_token",t.token),e.push("/admin");case 15:a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),o&&c(!1),alert(a.t0.message);case 21:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(u.a,{container:!0,className:w.root},r.a.createElement(u.a,{justify:"center",alignItems:"center",container:!0,item:!0,xs:12,sm:12,md:12,lg:7,className:w.controls},r.a.createElement(u.a,{spacing:3,item:!0,container:!0,xs:10,md:4,direction:"column",justify:"center"},r.a.createElement(u.a,{item:!0},r.a.createElement("h2",{className:w.title},"Login to Su's Kitchen Admin")),r.a.createElement(u.a,{item:!0},r.a.createElement(Y,{placeholder:"Phone number",value:d,onChange:function(e){e.target.value=e.target.value.replace(/[a-zA-z]/g,"");var a=e.target.value;p(a),a.length<9||a.length>11?j("Phone no must be between 9 and 11 characters!"):j("")},errorLabel:A})),r.a.createElement(u.a,{item:!0},r.a.createElement(Y,{type:"password",placeholder:"Password",value:b,onChange:function(e){var a=e.target.value;E(a),0===a.length?k("Password must not be empty!"):k("")},errorLabel:C})),r.a.createElement(u.a,{item:!0,container:!0,justify:"flex-end"},r.a.createElement(u.a,{item:!0},r.a.createElement(P.a,{size:"large",variant:"contained",className:w.button,onClick:B,disabled:!y()||o},"Log In"))))),r.a.createElement(u.a,{style:{display:I?"none":""},item:!0,xs:12,md:5,className:w.coverImageContainer},r.a.createElement("img",{src:R.a,className:w.coverImage,alt:""})))}},{path:"/admin",component:function(){return r.a.createElement("div",null,"Dashboard")}},{path:"/admin/categories",component:function(){return r.a.createElement("div",null,"Category")}}],$=function(){return r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/admin/",render:function(e){return r.a.createElement(z,Object.assign({},e,{routes:_}))}})))},ee=function(){return r.a.createElement(V,null,r.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.536215c4.chunk.js.map